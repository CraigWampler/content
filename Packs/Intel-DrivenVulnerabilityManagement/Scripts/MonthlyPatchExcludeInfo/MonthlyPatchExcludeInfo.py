import demistomock as demisto  # noqa: F401
from CommonServerPython import *  # noqa: F401

args = {
    'listName': 'MonthlyPatchExcludeList'
}
patchlist = demisto.executeCommand('getList', args)[0]['Contents']

patches = patchlist.split('\n')

report = '# Monthly Patch Exclusions \r\n'

for patch in patches:
    report += f"{patch}\r\n"

entry = {
    'Type': entryTypes['note'],
    'Contents': report,
    'ContentsFormat': formats['markdown'],
    'HumanReadable': report,
    'ReadableContentsFormat': formats['markdown']
}
demisto.results(entry)
